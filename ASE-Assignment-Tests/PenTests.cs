using System;
using System.Collections.Generic;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using ASE_assignment;

namespace ASE_Assignment_Tests
{
    public class PenTests
    {
        /// <summary>
        /// Tests the Pen colour correctly changes with an expected parameter
        /// </summary>
        [Fact]
        public void Pen_ValidColour()
        {
            // Arrange
            Canvass testBitmap = new Canvass(100, 100);
            Pen pen = new Pen(Color.Black);
            PenController controller = new PenController(testBitmap);
            var expectedColour = Color.Red;

            // Act
            controller.PenColour(Color.Red);

            // Assert
            Assert.Equal(expectedColour, controller.CurrentPenColor);
        }
        /// <summary>
        /// Tests the Pen colour throws an exception when an incorrect value is entered
        /// </summary>
        [Fact]
        public void Pen_InvalidColour()
        {
            // Arrange
            Canvass testBitmap = new Canvass(100, 100);
            PenController controller = new PenController(testBitmap);
            CommandParser parse = new CommandParser();
            RunCommand runCommand = new RunCommand(controller, testBitmap);

            // Assert
            var parsedLine = parse.ParseLine("pen apple");

            // Act 
            Assert.Throws<ArgumentException>(() => runCommand.RunLines(parsedLine));

        }
        /// <summary>
        /// Checks an exception is correctly thrown when an invalid value is entered
        /// </summary>
        [Fact]
        public void Fill_ValidChange()
        {
            // Arrange
            Canvass testBitmap = new Canvass(100, 100);
            PenController controller = new PenController(testBitmap);
            CommandParser parse = new CommandParser();
            RunCommand runCommand = new RunCommand(controller, testBitmap);

            // Act
            var parsedLine = parse.ParseLine("fill yes");


            // Assert
            Assert.Throws<ArgumentException>(() => runCommand.RunLines(parsedLine));
        }
    }
}
